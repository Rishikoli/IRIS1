# =============================================================================
# Project IRIS - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# WARNING: Never commit .env file to version control!
# =============================================================================

# Environment
ENVIRONMENT=development  # development, staging, production

# =============================================================================
# API Keys (Required)
# =============================================================================

# Financial Modeling Prep API (Primary Data Source)
# Get your key from: https://financialmodelingprep.com/developer/docs/
FMP_API_KEY=your_fmp_api_key_here

# Google Gemini API (AI/ML)
# Get your key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# NSE/BSE API Keys (Optional - for direct API access if available)
NSE_API_KEY=optional_nse_api_key
BSE_API_KEY=optional_bse_api_key

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL
DATABASE_URL=postgresql://iris:iris_password@localhost:5432/iris_forensic
DB_HOST=localhost
DB_PORT=5432
DB_NAME=iris_forensic
DB_USER=iris
DB_PASSWORD=iris_password
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ChromaDB (Vector Database)
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_PERSIST_DIRECTORY=./data/chromadb

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# =============================================================================
# Celery Configuration
# =============================================================================

CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=900
CELERY_TASK_SOFT_TIME_LIMIT=600

# =============================================================================
# Intel Hardware Optimization
# =============================================================================

# Enable/Disable Intel Optimizations
OPENVINO_ENABLED=true
INTEL_PYTORCH_ENABLED=true

# OpenVINO Configuration
OPENVINO_DEVICE=AUTO  # AUTO, CPU, GPU
OPENVINO_MODEL_PATH=./models/openvino

# Intel PyTorch Extension
IPEX_OPTIMIZE=true
IPEX_DTYPE=bfloat16  # bfloat16, float32

# =============================================================================
# Application Configuration
# =============================================================================

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true  # Set to false in production
API_DEBUG=true   # Set to false in production

# CORS Settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate Limiting
API_RATE_LIMIT=100  # requests per minute per IP

# =============================================================================
# Data Source Configuration
# =============================================================================

# FMP API Configuration
FMP_BASE_URL=https://financialmodelingprep.com/api/v3
FMP_RATE_LIMIT_PER_DAY=250  # Free tier limit
FMP_RATE_LIMIT_PER_MINUTE=4  # To stay within daily limit
FMP_TIMEOUT=30

# Web Scraping
SCRAPING_USER_AGENT=Mozilla/5.0 (compatible; IRIS-Forensic/1.0)
SCRAPING_TIMEOUT=30
SCRAPING_MAX_RETRIES=3

# =============================================================================
# File Storage
# =============================================================================

UPLOAD_FOLDER=./data/uploads
REPORT_FOLDER=./data/reports
PDF_FOLDER=./data/pdfs
MODEL_CACHE_DIR=./models/cache

# =============================================================================
# Logging Configuration
# =============================================================================

LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=./logs/iris.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# =============================================================================
# Monitoring & Metrics
# =============================================================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# Security
# =============================================================================

# API Key for endpoints (future implementation)
API_SECRET_KEY=your_secret_key_here_change_in_production

# JWT Settings (future authentication)
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=30

# =============================================================================
# Testing Configuration
# =============================================================================

# Test Database
TEST_DATABASE_URL=postgresql://iris:iris_password@localhost:5432/iris_test
TEST_REDIS_URL=redis://localhost:6379/1

# Mock External APIs in Tests
MOCK_FMP_API=true
MOCK_GEMINI_API=true

# =============================================================================
# Feature Flags
# =============================================================================

ENABLE_SENTIMENT_ANALYSIS=true
ENABLE_PEER_BENCHMARKING=true
ENABLE_REGULATORY_MONITORING=true
ENABLE_QA_SYSTEM=true

# =============================================================================
# Performance Tuning
# =============================================================================

# Chunk Size for Document Processing
DOCUMENT_CHUNK_SIZE=512
DOCUMENT_CHUNK_OVERLAP=50

# Embedding Batch Size
EMBEDDING_BATCH_SIZE=32

# Max Concurrent Jobs
MAX_CONCURRENT_JOBS=10

# Cache TTL (seconds)
CACHE_TTL_FINANCIAL_DATA=86400  # 24 hours
CACHE_TTL_COMPANY_PROFILE=604800  # 7 days
